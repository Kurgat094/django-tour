{% extends "base.html" %}

{% load static %}

{% block title %}Stevensons Trail Company Categories{% endblock %}

{% block content %}
<style>
  .hidden {
    display: none;
  }
</style>

<div class="page-heading">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 offset-lg-2 header-text">
        <h2>Discover Our Most Popular <em>Stevensons Safaris</em></h2>
        <p>Experience East Africa like never before with our top-rated safari adventures â€” from the heart of Kenya to the majestic peaks of Mount Kenya, the beaches of the Indian Ocean, thrilling Tanzania safaris, the lush landscapes of Uganda, and the serene Indian Ocean coast.</p>
      </div>
    </div>
  </div>
</div>


  <section class="portfolio" id="portfolio">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center header-text" style="margin-bottom: 15px;">
                    <h4 style="color: #D86F2C;">Kanyan Safaris</h4>
                    <h2>Explore Our <b style="color: #228b22;">Safaris</b></h2>
                </div>
            </div>
        </div>

        <!-- Flexbox Row for Horizontal Layout -->
        <div class="row d-flex flex-wrap justify-content-between" id="tourism-container">
            {% for site in tourism_sites %} 
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4 site-item {% if forloop.counter > 8 %}hidden{% endif %}">
                <div class="thumb" id="thumb-card">
                    <img src="{{ site.image.url }}" alt="{{ site.name }}" class="img-fluid">
                    <div class="hover-effect">
                        <a href="{% url 'book' site.id %}#booking" class="content">
                            <h4>{{ site.name }}</h4>
                            <span>{{ site.description }}</span>
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Load More Button -->
        <div class="text-center section-heading">
          <div class="main-button">
            <a id="load-more"style="color: white;">Load More Sites</a>
            <a id="view-less" class="btn btn-success"  style="display: none; color: #FFF;">View Less</a>
          </div>
        </div>
    </div>
</section>

  
  <section class="portfolio" id="tzportfolio">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="text-center header-text" style="margin-bottom: 15px;">
              <h4 style="color: #D86F2C;">Tanzanian Safaris</h4>
              <h2>Explore Our <b style="color: #228b22;">Safaris</b></h2>
          </div>
      </div>
      </div>
      
      <!-- Flexbox Row for Horizontal Layout -->
      <div class="row d-flex flex-wrap justify-content-between">
        {% for site in tourism_sites1 %} 
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4 {% if forloop.counter > 8 %}hidden{% endif %}">
          <div class="thumb" id="thumb-card">
            <img src="{{ site.image.url }}" alt="{{ site.name }}" class="img-fluid">
            <div class="hover-effect">
              <a href="{% url 'tzbook' site.id %}#booking" class="content">
                <h4>{{ site.name }}</h4>
                <span>{{ site.description }}</span>
              </a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="text-center section-heading">
        <div class="main-button">
          <a id="load-more" style="color: white;">Load More Sites</a>
          <a id="view-less" class="btn btn-success" style="display: none;">View Less</a>
        </div>
      </div>
    </div>
  </section>

  <section class="portfolio" id="ugportfolio">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="text-center header-text" style="margin-bottom: 15px;">
              <h4 style="color: #D86F2C;">Ugandan Safaris</h4>
              <h2>Explore Our <b style="color: #228b22;"> Safaris</b></h2>
          </div>
      </div>
      </div>
      
      <!-- Flexbox Row for Horizontal Layout -->
      <div class="row d-flex flex-wrap justify-content-between">
        {% for site in tourism_sites2 %} 
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4 {% if forloop.counter > 8 %}hidden{% endif %}">
          <div class="thumb" id="thumb-card">
            <img src="{{ site.image.url }}" alt="{{ site.name }}" class="img-fluid">
            <div class="hover-effect">
              <a href="{% url 'ugbook' site.id %}#booking" class="content">
                <h4>{{ site.name }}</h4>
                <span>{{ site.description }}</span>
              </a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="text-center section-heading">
        <div class="main-button">
          <a id="load-more" style="color: white;">Load More Sites</a>
          <a id="view-less" class="btn btn-success" style="display: none;" >View Less</a>
        </div>
      </div>
    </div>
  </section>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
        let loadMoreBtn = document.getElementById("load-more");
        let viewLessBtn = document.getElementById("view-less");
    
        loadMoreBtn.addEventListener("click", function() {
            let hiddenSites = document.querySelectorAll(".site-item.hidden");
    
            // Show 6 more sites
            for (let i = 0; i < 8 && i < hiddenSites.length; i++) {
                hiddenSites[i].classList.remove("hidden");
            }
    
            // Hide Load More button if all sites are shown
            if (document.querySelectorAll(".site-item.hidden").length === 0) {
                loadMoreBtn.style.display = "none";
                viewLessBtn.style.display = "inline-block";
            }
        });
    
        viewLessBtn.addEventListener("click", function() {
            let allSites = document.querySelectorAll(".site-item");
    
            // Hide extra sites again
            for (let i = 8; i < allSites.length; i++) {
                allSites[i].classList.add("hidden");
            }
    
            // Reset buttons
            loadMoreBtn.style.display = "inline-block";
            viewLessBtn.style.display = "none";
        });
    });
    </script>
    
    

{% endblock %}